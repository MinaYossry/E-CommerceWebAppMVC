@model FinalProjectMVC.ViewModels.FrontPageViewModel;
@using FinalProjectMVC.Areas.AdminPanel.Models;
@{
    ViewData["Title"] = "Home Page";
    //List<Category> Categoires = ViewBag.Categories;

    //List<Brand> Brands = ViewBag.Brands;
}


@section FeaturedProducts 
{
    <div class="container-fluid p-5 bg-dark ">
        <h2 class="text-white">Featured Products</h2>
    <div class="row row-cols-1 row-cols-md-4 g-4">
        @foreach (var item in Model.FeaturedProducts)
        {
            <div class="col">
                <div class="card h-100 d-flex flex-column justify-content-between">
                    <div>
                    <img src="data:image;base64,@(Convert.ToBase64String(item.ProductImage ?? new byte[0]))" class="card-img-top align-self-center " />

                    </div>

                    <div class="card-body mt-auto d-flex flex-column justify-content-between">
                        <div>
                            <h5 class="card-title">@item.Name</h5>
                            <p class="card-text">$@(item.SellerProducts?.FirstOrDefault()?.Price ?? (decimal)50.00)</p>
                        </div>
                        <a asp-action="Details" asp-controller="Products" asp-area="CustomerPanel" asp-route-Id="@item.Id" asp-route-SellerId="@item.SellerProducts.FirstOrDefault().SellerId" class="btn btn-primary">Buy Now</a>
                    </div>
                </div>
            </div>
        }
    </div>
    </div>

}

@section BestSellerProducts
{
    <div class="container-fluid p-5 bg-light ">
        <h2>Best Seller Products</h2>
        <div class="row row-cols-1 row-cols-md-4 g-4">
            @foreach (var item in Model.BestSelllerProducts)
            {
                <div class="col">
                    <div class="card h-100 d-flex flex-column">
                        <div class="align-self-center justify-content-between">
                            <img src="data:image;base64,@(Convert.ToBase64String(item.ProductImage ?? new byte[0]))" class="card-img-top" />
                        </div>
                        <div class="card-body d-flex flex-column justify-content-between">
                            <div>
                                <h5 class="card-title">@item.Name</h5>
                                <p class="card-text">$@(item.SellerProducts?.FirstOrDefault()?.Price ?? (decimal)50.00)</p>
                            </div>
                                <a asp-action="Details" asp-controller="Products" asp-area="CustomerPanel" asp-route-Id="@item.Id" asp-route-SellerId="@item.SellerProducts.FirstOrDefault().SellerId" class="btn btn-primary">Buy Now</a>
                        </div>
                    </div>
                </div>

            }
        </div>
    </div>
}


@section Header {

    <div class="bg-light-subtle d-flex flex-column flex-grow-1 vh-100 justify-content-center">
        <div class="container align-self-center">
            <div class="row">
                <div class="col-md-8 align-self-center">
                    <h1>Welcome to Mesh-Amazon Website!</h1>
                    <p>
                        Here you will find everything you need at the best prices. Browse
                        our catalog and choose from a wide range of products.
                    </p>
                    <a asp-action="Index" asp-controller="Products" asp-area="CustomerPanel" class="btn btn-primary">Shop Now</a>
                </div>
                <div class="col-md-4">
                    <img src="~/WebsiteLogo/meshAmazonLogo-small.png"
                         alt="Mesh-Amazon Website"
                         class="img-fluid" />
                </div>
            </div>
        </div>
    </div>
}